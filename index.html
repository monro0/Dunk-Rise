<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Dunk Shot</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    
    <div id="game-container">
        
        <!-- –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ -->
        <div id="main-menu">
            <button id="settingsButton" class="menu-icon-btn" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                </svg>
            </button>
            
            <div class="menu-content">
                <h1 class="game-title">DUNK RISE</h1>

                <div class="menu-record">
                    <svg class="trophy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/>
                        <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/>
                        <path d="M4 22h16"/>
                        <path d="M10 14.66V22"/>
                        <path d="M14 14.66V22"/>
                        <path d="M17.73 4H6.27a2 2 0 0 0-2 2.54v3.31a2 2 0 0 0 2 2.54h11.46a2 2 0 0 0 2-2.54V6.54a2 2 0 0 0-2-2.54z"/>
                    </svg>
                    <span>BEST: <span id="menu-high-score">0</span></span>
                </div>

                <button id="playButton" class="btn-neon-primary">–ò–ì–†–ê–¢–¨</button>

                <div class="menu-secondary">
                    <button id="shopButton" class="menu-secondary-btn" aria-label="–ú–∞–≥–∞–∑–∏–Ω">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                    </button>
                    <button class="menu-secondary-btn" aria-label="–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 20V10"></path>
                            <path d="M12 20V4"></path>
                            <path d="M6 20v-6"></path>
                        </svg>
                    </button>
                </div>

                <div class="menu-stars">
                    <span aria-hidden="true">‚≠ê</span> <span id="menu-stars">0</span>
                </div>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù –ú–ê–ì–ê–ó–ò–ù–ê -->
        <div id="shop-screen" class="hidden">
            <div class="screen-panel">
                <h2>–ú–ê–ì–ê–ó–ò–ù</h2>
                <div class="shop-stars">
                    <span aria-hidden="true">‚≠ê</span> <span id="shop-stars">0</span>
                </div>
                <div class="shop-grid">
                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ UI.js -->
                </div>
                <button id="shopBackBtn" class="btn-secondary" style="margin-top: 30px;">–ù–∞–∑–∞–¥</button>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù –ù–ê–°–¢–†–û–ï–ö -->
        <div id="settings-screen" class="hidden">
            <div class="screen-panel">
                <h2>–ù–ê–°–¢–†–û–ô–ö–ò</h2>
                
                <div class="setting-row">
                    <span>–í–∏–±—Ä–∞—Ü–∏—è</span>
                    <label class="switch">
                        <input type="checkbox" id="vibrationToggle">
                        <span class="slider round"></span>
                    </label>
                </div>

                <div class="setting-row">
                    <span>–ó–≤—É–∫</span>
                    <label class="switch">
                        <input type="checkbox" id="soundToggle">
                        <span class="slider round"></span>
                    </label>
                </div>

                <button id="settingsBackBtn" class="btn-secondary">–ù–∞–∑–∞–¥</button>
            </div>
        </div>

        <!-- HUD –ò–ì–†–´ -->
        <div id="game-hud" class="hidden">
            <button id="homeBtn" aria-label="Home">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </button>

            <div id="stars-container">
                <span aria-hidden="true">‚≠ê</span> <span id="stars-value">0</span>
            </div>

            <div id="high-score-container">
                <svg class="trophy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/>
                    <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/>
                    <path d="M4 22h16"/>
                    <path d="M10 14.66V22"/>
                    <path d="M14 14.66V22"/>
                    <path d="M17.73 4H6.27a2 2 0 0 0-2 2.54v3.31a2 2 0 0 0 2 2.54h11.46a2 2 0 0 0 2-2.54V6.54a2 2 0 0 0-2-2.54z"/>
                </svg>
                <span id="high-score-value">0</span>
            </div>

            <button id="topRestartBtn" aria-label="Restart">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M23 4v6h-6"></path>
                    <path d="M1 20v-6h6"></path>
                    <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                </svg>
            </button>

            <div id="ui-container">
                <div id="score">0</div>
            </div>
        </div>

        <canvas id="gameCanvas"></canvas>

        <div id="secondChanceScreen" class="hidden">
            <div class="modal">
                <button id="closeSecondChance">&times;</button>
                <h2>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?</h2>
                <div id="secondChanceTimer">5</div>
                <button id="adButton"><span>üì∫</span> –í—Ç–æ—Ä–æ–π —à–∞–Ω—Å</button>
                <p class="subtext">–û–¥–∏–Ω —Ä–∞–∑ –∑–∞ –∏–≥—Ä—É</p>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù –ü–†–û–ò–ì–†–´–®–ê -->
        <div id="gameOverScreen" class="hidden">
            <div class="modal">
                <h1>–ü–†–û–ò–ì–†–´–®</h1>
                <div id="finalScore"></div>
                <button id="restartButton" class="btn-neon-primary">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button id="goHomeButton" class="btn-neon-secondary">–í –ú–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
